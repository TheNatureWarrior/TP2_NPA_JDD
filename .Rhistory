setwd("C:/Users/natal/Desktop/Bellarmine/Spring 2022/DS/Team Project 2")
source("C:/Users/natal/Desktop/Bellarmine/Spring 2022/DS/Team Project 2/TP2_NPA_JDD.R", echo=TRUE)
dfex<-df
dfex %>% group_by(reason) %>%
count()
df %>% group_by(sex) %>%
count()
df %>% group_by(reason) %>%
count()
df %>% group_by(smoke_hist) %>%
count()
#example, delete later
dfex %>% group_by(smoke_hist) %>%
count()
df %>% group_by(smoke_hist) %>%
count()
dfex %>%
select(smoke_hist) %>%
mutate(across(!name,as.factor)))
dfex %>%
select(smoke_hist) %>%
mutate(across(!name,as.factor))
?across
dfex %>%
select(smoke_hist) %>%
mutate(smoke_hist,na_if("",NA))
na_if?
na_if?
na_if
dfex %>%
select(smoke_hist) %>%
mutate(smoke_hist,na_if(smoke_hist,NA))
dfex
library(tidyverse)
library(lubridate)
#On top bar, go to Session:
#Set Working Directory:
#To Source File Location
df<-read.csv('Canada_Hosp1_COVID_Data_At_Admission.csv',sep=",")
#Going to drop all columns we dropped eventually in
#original project
df=subset(df,select = -c(id,ethnicity,ethnicity_other,received_covid_vaccine,
covid_vaccine,pao2,pao2_fio2,ph,
high_senstivity_cardiac_troponin,esr,ferritin,
hs_crp,aptt_aptr,medications,comorbidities_other))
#Now to rename.
newNames<-c('reason', 'age', 'sex', 'height', 'weight',
'comorb',
'smoke_hist', 'year_quit', 'er_2_weeks',
'adm_disp', 'systolic_bp',
'diastolic_bp', 'heart_rate', 'respiratory_rate',
'oxygen_sat', 'temp', 'motor', 'verbal', 'eye',
'intubated', 'wbc', 'rbc', 'hemoglobin', 'hematocrit', 'mcv', 'mch',
'mchc', 'rdw', 'platelet_count', 'pt', 'alt', 'ast', 'serum_creatinine',
'sodium', 'potassium', 'total_serum_bilirubin', 'lactate', 'inr',
'd_dimer', 'crp')
colnames(df)<-newNames
#Making an example df to practice on without worrying  about ruining anything
dfex<-df
#example, delete later
dfex %>% group_by(smoke_hist) %>%
count()
df %>% group_by(smoke_hist) %>%
count()
summary(df)
#example, delete later
dfex %>% group_by(smoke_hist) %>%
count()
na_if(dfex$smoke_hist,"")
dfex %>% group_by(smoke_hist) %>%
count()
dfex %>%
mutate(across(where(is.character),~na_if(.,"")))
dfex %>% group_by(year_quit) %>%
count()
dfex %>% group_by(smoke_hist) %>%
count()
dfex<-dfex %>%
mutate(across(where(is.character),~na_if(.,"")))
#example, delete later
df %>% group_by(smoke_hist) %>%
count()
df<-df %>%
mutate(across(where(is.character),~na_if(.,"")))
